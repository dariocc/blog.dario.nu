---
title: "Nunca es tarde para aprender GnuPG"
date: 2020-07-21T19:05:04+02:00
draft: false
---

= Nunca es tarde para aprender GnuPG

Recientemente tuve que batallar con GnuPG, un software libre de 
cifrado y firmas digitales que implementa el estándar OpenPGP 
(RFC4880). 

Este software es útil en ámbitos donde es necesario garantizar la
privacidad, autenticidad o procedencia de contenidos digitales como
por ejemplo cifrado y firmado de correo electrónico, firmado de 
software, etc.

Entenderme en la maraña de conceptos y sobretodo _procesos_ sobre
cómo usarlo "correctamente" no ha sido del todo sencillo.

He decidido escribir algunas líneas con algunas ideas clave que 
con la esperanza de que puedan hacer el proceso de aprendizaje más
sencillo a otros.

En concreto éstos son los puntos que me planteo abordar:

1. ¿En qué ámbitos y por qué podría interesarte GnuPG?
2. Conceptos básicos que es necesario saber para operar con GnuPG.
3. ABC de la generación de claves con GnuPG.
4. Uso de GnuPG con tarjetas inteligentes como una YubiKey.
5. Cómo y por qué he generado yo mis claves y qué uso pienso hacer
   de ellas.

== ¿En qué ámbitos y por qué podría interesarte GnuPG?

El uso tradicional de GnuPG ha sido en el ámbito de la comunicación 
por correo electrónico para cifrar, firmar y verificar la integridad de la información
en las comunicaciones electrónicas. 

Si bien este sigue siendo un uso válido, requiere que tanto emisor
como receptor entiendan cómo hacer uso de este software y el estándar
subyacente, requerimiento que resulta demasiado rígido en muchos casos.

Pero GnuPG es usado y es útil en otros ámbitos que, al menos a mí
como desarrollador sí me han resultado interesantes y que justifican
por si solos desarrollar cierta competencia en la materia.

=== Como método de autenticación en SSH

Como cualquier desarrollador hago uso diario de SSH para iniciar 
sesiones de login en equipos remoto o como método de autenticación 
en repositorios Git. 

GnuPG proporciona una implementación alternativa de ssh-agent compatible
con OpenSSH que permite usar GnuPG para autenticación en conexiones
SSH.

Esta posibilidad es especialmente interesante cuando se usa en
combinación con una tarjeta inteligente OpenPGP, un dispositivo que
permite realizar operaciones de cifrado en él y que almacena claves
privadas sin permitir que éstas puedan extraerse del mismo. Como veremos
más adelante esto implica una serie de ventajas desde el punto de
vista de la seguridad y la productividad.

=== En el ámbito de la distribución de software, para publicar tu propio contenido

Diversos repositorios de software requieren el uso de firmas. ¿Has hecho
una aplicación en Java y quieres distribuirla en Maven central? El firmado
electrónico con GnuPG es un requerimiento.

Si publicas tu código o aplicaciones en canales de distribución de
software estándar no será raro que tarde o temprano te surja la necesidad
de utilizar GnuPG.

=== Para verificar la integridad y autenticidad de software

Gran cantidad del software de código abierto que se distribuye es firmado 
electrónicamente mediante GnuPG para garantizarnos como consumidores de 
ese software que no ha sido modificado y que su procedencia es de la fuente 
de la que queríamos obtenerlo.

Imagina las consecuencias si descargases una distribución de Ubuntu y ésta
hubiese _cocinada_ para recolectar toda información sensible que
se procesase en tu ordenador. 

¿Cómo puedes estar seguro que lo que descargas es realmente lo
que pretendías descargar?

Como consumidores de software, nos interesa entender GnuPG para saber
cómo verificar software que ha sido firmado con este software.

=== Para proteger información sensible almacenada en la nube

El uso ubicuo de la nube para almacenar información genera desafíos para
personas que valoran la privacidad y la confidencialidad de la información
que almacenan en ésta.

Quizás te preocupa que tu proveedor de servicios en la nube pueda utilizar
el contenido que tu subes para fines ajenos a tu conocimiento.

O quizás te preocupa que si alguien consigue acceso a este espacio en la 
nube pueda acceder a información que consideras sensible.

El cifrado de la información proporciona una manera de protegerse ante estos
dos casos y GnuPG puede hacer esta tarea relativamente sencilla.

En mi caso, por ejemplo, encuentro bastante útil utilizar GnuPG para
cifrar información sensible que almaceno en repositorios de código 
privados, como podrían ser credenciales necesarios para el despliegue 
de aplicaciones o contenedores que ejecuto localmente, de tal modo que 
puedo compartir dichos credenciales entre todas las computadoras en las
que trabajo de una manera segura.

== Conceptos básicos que es necesario entender para empezar a trabajar con GnuPG

Hay una serie de conceptos que no son específicos de GnuPG pero que juegan
un papel fundamental a la hora de entender el funcionamiento del mismo y que 
por ello es conveniente introducir.

Antes de ello, recordemos rápidamente los _elementos de la comunicación_:

----
          Canal
          Código
Emisor -> Mensaje -> Receptor
          Ruido
          Contexto
----

Omito las definiciones porque seguramente las estudiaste en la escuela 
primaria o eres capaz de intuirlas.

=== Autenticidad, integridad y confidencialidad

En el ámbito de la seguridad de la información, surgen las siguientes
preguntas:

- ¿Cómo se puede asegurar que el mensaje que el receptor recibe proviene efectivamente
  del receptor?
- ¿Cómo se puede asegurar que el mensaje que el receptor recibe es el que el emisor 
  tenía la intención de comunicar?
- ¿Cómo aseguramos que el mensaje que el receptor recibe sólo puede ser decodificado
  por dicho receptor? 

Estas tres preguntas se relacionan directamente con tres aspectos fundamentales
en una comunicación que podemos llamar segura: *autenticidad*, *integridad* y *confidencialidad*. 

- Autenticidad tiene que ver con garantizar la procedencia del mensaje.
- Integridad tiene que ver con garantizar la invariabilidad del mensaje original en una
  transmisión.
- Confidencialidad tiene que ver con cómo transmitir el mensaje usando un código que sólo
  el receptor pueda descifrar.

El estándar OpenPGP proporciona mecanismos para asegurar dichos aspectos desde el punto
de vista de la comunicación digital. Más adelante veremos como se manifiestan dentro de
la suite de programas GnuPG.

=== Cifrado simétrico versus cifrado asimétrico

Lorem ipsum dolor sit amet.

